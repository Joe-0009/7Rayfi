{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block content %}
<div class="container mt-4">
    <!-- Profile Header -->
    <div class="profile-header">
        <div class="text-center mb-4 profile-header">
            {% if profile_user.profile_picture %}
                <img src="{{ url_for('static', filename='profile_pics/' + profile_user.profile_picture) }}" alt="Profile Picture" class="rounded-circle img-thumbnail" style="width: 100px; height: 100px;">
            {% else %}
                <img src="{{ url_for('static', filename='profile_pics/default.png') }}" alt="Default Profile Picture" class="rounded-circle img-thumbnail" style="width: 100px; height: 100px;">
            {% endif %}
            <h2 class="mt-3 profile-name">{{ profile_user.first_name or "First Name" }} {{ profile_user.last_name or "Last Name" }}</h2>
            <p class="text-muted profile-email"><i class="fa fa-envelope"></i> {{ profile_user.email }}</p>
            {% if profile_user.location %}
                <p class="text-muted profile-location"><i class="fa fa-map-marker"></i> {{ profile_user.location }}</p>
            {% endif %}
            {% if profile_user.profession %}
                <p class="text-muted profile-profession"><i class="fa fa-briefcase"></i> {{ profile_user.profession }}</p>
            {% endif %}
            {% if profile_user.date_of_birth %}
                <p class="text-muted profile-age"><i class="fa fa-birthday-cake"></i> Age: {{ profile_user.age }}</p>
            {% endif %}
        </div>
    </div>
    <!-- Profile Navigation Tabs -->
    <ul class="nav nav-tabs justify-content-center" id="profileTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="overview-tab" data-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Profile Overview</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="jobs-tab" data-toggle="tab" href="#jobs" role="tab" aria-controls="jobs" aria-selected="false">My Jobs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">Reviews</a>
        </li>
    </ul>

    <div class="tab-content mt-4" id="profileTabContent">
        <!-- Include the separate sections -->
        {% include 'profile/profile_overview.html' %}
        {% include 'profile/my_jobs.html' %}
        {% include 'profile/reviews.html' %}
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}
